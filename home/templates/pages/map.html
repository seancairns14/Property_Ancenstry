{% extends "pages/base.html" %}

{% block title %}Map{% endblock %}

{% block content %}
<div class="map-container">
    <div id="map"></div>
</div>
<style>
    .map-container {
        position: relative;
        height: calc(100vh - 50px); /* Adjust height to leave space for tabs */
        margin-top: 10px; /* Space between the tabs and map */
    }

    #map {
        width: 100%;
        height: 100%; /* Fill the map container */
    }

</style>
{% endblock %}

{% block scripts %}
    <!-- Include required libraries -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/esri-leaflet@3.0.12/dist/esri-leaflet.js"></script>
    <script src="https://unpkg.com/esri-leaflet-vector@4.2.5/dist/esri-leaflet-vector.js"></script>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Initialize the map
            const map = L.map("map", {
                minZoom: 2,
                center: [34.02, -118.805], // Center coordinates
                zoom: 13 // Initial zoom level
            });

            // Define the access token and basemap configuration
            const accessToken = "AAPTxy8BH1VEsoebNVZXo8HurP19bjcxUulX2DZhKx0tgkYsvJQUCTNVxhpyoVOz3oBUD712ADrDaHFtQmN3-Zmyo0VVMbNYTWQJ-_F72zjwf0T2vA7B8NHSl6zz0kYo9_TdqYw42KKp_ylkL6RJfT1IeZzBlentsC6wNeuMxUIAWEioTd2auQJ2QHu_BzkCFFwDV62JcySVyJFSjBHS-ySqzSpMSkfvYMpLHeH59PZPrzw.AT1_E3mwdEJr";
            const basemapEnum = "arcgis/streets";

            // Add the vector basemap layer
            L.esri.Vector.vectorBasemapLayer(basemapEnum, {
                token: accessToken
            }).addTo(map);
        });
    </script>
{% endblock %}
